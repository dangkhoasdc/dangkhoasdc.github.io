<!DOCTYPE html>
<html
  lang="vi"
  prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#"
>
  <head>
    <meta charset="utf-8" />

    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="HandheldFriendly" content="True" />
<meta name="MobileOptimized" content="320" />
<meta name="viewport" content="width=device-width, initial-scale=1" />


<link rel="apple-touch-icon" sizes="180x180" href="http://dangkhoasdc.github.io//apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://dangkhoasdc.github.io//favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="http://dangkhoasdc.github.io//favicon-16x16.png">
<link rel="manifest" href="http://dangkhoasdc.github.io//site.webmanifest">
<link rel="mask-icon" href="http://dangkhoasdc.github.io//safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">



<meta name="keywords" content="programming,
cpp,
">

<meta property="og:title" content="rand() is harmful" />
<meta property="og:description" content="rand() BÃ i talk khÃ¡ hay vá» viá»‡c sinh sá»‘ ngáº«u nhiÃªn (trong trÆ°á»ng há»£p nÃ y lÃ  ngÃ´n ngá»¯ C&#43;&#43;). LÃ m mÃ¬nh nhá»› Ä‘áº¿n 1 bÃ i táº­p trong The Art of Computer Programming (TAOCP - Vol 2): &ldquo;hÃ£y thá»­ thay Ä‘á»•i random generator trong mÃ¡y tÃ­nh báº±ng má»™t thuáº­t toÃ¡n tá»‘t hÆ¡n, vÃ  quan sÃ¡t Ä‘iá»u kÃ¬ diá»‡u sáº½ xáº£y ra&rdquo; BÃ i talk duy chá»‰ nÃ³i vá» viá»‡c dÃ¹ng hÃ m rand() vÃ  Ä‘áº·c biá»‡t sá»­ dá»¥ng chung vá»›i % (mod) hay floating point scale lÃ  thá»±c sá»± sai láº§m vÃ  nghiÃªm trá»ng ." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://dangkhoasdc.github.io/post/2017/09/06/rand-is-harmful/" />
<meta property="article:published_time" content="2017-09-06T00:00:00+00:00" />
<meta property="article:modified_time" content="2017-09-06T00:00:00+00:00" /><meta property="og:site_name" content="Blog" />

<meta property="og:site_name" content="Blog" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="rand() is harmful"/>
<meta name="twitter:description" content="rand() BÃ i talk khÃ¡ hay vá» viá»‡c sinh sá»‘ ngáº«u nhiÃªn (trong trÆ°á»ng há»£p nÃ y lÃ  ngÃ´n ngá»¯ C&#43;&#43;). LÃ m mÃ¬nh nhá»› Ä‘áº¿n 1 bÃ i táº­p trong The Art of Computer Programming (TAOCP - Vol 2): &ldquo;hÃ£y thá»­ thay Ä‘á»•i random generator trong mÃ¡y tÃ­nh báº±ng má»™t thuáº­t toÃ¡n tá»‘t hÆ¡n, vÃ  quan sÃ¡t Ä‘iá»u kÃ¬ diá»‡u sáº½ xáº£y ra&rdquo; BÃ i talk duy chá»‰ nÃ³i vá» viá»‡c dÃ¹ng hÃ m rand() vÃ  Ä‘áº·c biá»‡t sá»­ dá»¥ng chung vá»›i % (mod) hay floating point scale lÃ  thá»±c sá»± sai láº§m vÃ  nghiÃªm trá»ng ."/>


<meta itemprop="name" content="rand() is harmful">
<meta itemprop="description" content="rand() BÃ i talk khÃ¡ hay vá» viá»‡c sinh sá»‘ ngáº«u nhiÃªn (trong trÆ°á»ng há»£p nÃ y lÃ  ngÃ´n ngá»¯ C&#43;&#43;). LÃ m mÃ¬nh nhá»› Ä‘áº¿n 1 bÃ i táº­p trong The Art of Computer Programming (TAOCP - Vol 2): &ldquo;hÃ£y thá»­ thay Ä‘á»•i random generator trong mÃ¡y tÃ­nh báº±ng má»™t thuáº­t toÃ¡n tá»‘t hÆ¡n, vÃ  quan sÃ¡t Ä‘iá»u kÃ¬ diá»‡u sáº½ xáº£y ra&rdquo; BÃ i talk duy chá»‰ nÃ³i vá» viá»‡c dÃ¹ng hÃ m rand() vÃ  Ä‘áº·c biá»‡t sá»­ dá»¥ng chung vá»›i % (mod) hay floating point scale lÃ  thá»±c sá»± sai láº§m vÃ  nghiÃªm trá»ng .">
<meta itemprop="datePublished" content="2017-09-06T00:00:00+00:00" />
<meta itemprop="dateModified" content="2017-09-06T00:00:00+00:00" />
<meta itemprop="wordCount" content="212">



<meta itemprop="keywords" content="programming,cpp," />



    <title>rand() is harmful || Blog</title>
    <link rel="canonical" href="http://dangkhoasdc.github.io/post/2017/09/06/rand-is-harmful/" />

    

    <link rel="stylesheet" href="/css/reboot.css" />
<link rel="stylesheet" href="/css/style.css" />
<link rel="stylesheet" href="/css/syntax.css" />



<script type="text/javascript" src="/js/main.js" defer></script>

<link href="https://fonts.googleapis.com/css?family=Lora&display=swap" rel="stylesheet">

    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="apple-touch-icon" href="/apple-touch-icon.png" />
  </head>
  <body
  class=" look-sheet-bkg"
  lang="vi">
  <div class="nav-bkg">
    <nav class="content-container pagewide-bar-padding">
      <span class="divider">/ </span>
      <a href="http://dangkhoasdc.github.io/" >Blog</a>
      <span class="divider">/ </span>
  <a href="http://dangkhoasdc.github.io/post">Posts</a>
      <ul class="list-unstyled right-links">

          <li>
            <a href="/en/post/">
              <span class="post-title">English version</span>
            </a>
          </li>

</ul>

    </nav>
  </div>
  <article
    id="main"
    class="content-container look-sheet article-pad-v "
    itemscope
    itemtype="https://schema.org/Article" >
  <meta itemprop="author" content="" />
  <meta itemprop="publisher" content="" />
  <meta itemprop="image" content="" />
  <h1 itemprop="name" id="title">rand() is harmful</h1>
  <meta itemprop="headline" content="rand() is harmful" />
  
  <div class="post-tags">
  
    <a href="http://dangkhoasdc.github.io/tags/programming/">#programming</a>&nbsp;
  
    <a href="http://dangkhoasdc.github.io/tags/cpp/">#cpp</a>&nbsp;
  
  </div>
  
  
    
      <div class="post-date"><span itemprop="datePublished">September 6, 2017</span></div>
      <meta itemprop="dateModified" content="September 6, 2017"/>
    
  
  
  <div itemprop="articleBody" id="content" class="article-body margin-top-2em">
    <h1 id="rand">rand()</h1>
<p>BÃ i talk khÃ¡ hay vá» viá»‡c sinh sá»‘ ngáº«u nhiÃªn (trong trÆ°á»ng há»£p nÃ y lÃ  ngÃ´n ngá»¯ C++). LÃ m mÃ¬nh nhá»› Ä‘áº¿n 1 bÃ i táº­p trong The Art of Computer Programming (TAOCP - Vol 2): &ldquo;hÃ£y thá»­ thay Ä‘á»•i random generator trong mÃ¡y tÃ­nh báº±ng má»™t thuáº­t toÃ¡n tá»‘t hÆ¡n, vÃ  quan sÃ¡t Ä‘iá»u kÃ¬ diá»‡u sáº½ xáº£y ra&rdquo;
BÃ i talk duy chá»‰ nÃ³i vá» viá»‡c dÃ¹ng hÃ m <code>rand()</code> vÃ  Ä‘áº·c biá»‡t sá»­ dá»¥ng chung vá»›i <code>%</code> (mod) hay floating point scale lÃ  thá»±c sá»± <em>sai láº§m</em>  vÃ  <em>nghiÃªm trá»ng</em> . Äáº·c biá»‡t, nÃ³ khÃ´ng há» táº¡o ra uniform distribution nhÆ° ta thÆ°á»ng nghÄ©, tháº­m chÃ­ nÃ³ khiáº¿n cho 1 sá»‘ giÃ¡ trá»‹ Ä‘áº·c biá»‡t hiáº¿m khi xáº£y ra ğŸ˜„</p>
<p>Báº£n cháº¥t hÃ m <code>rand</code> Ä‘Æ°á»£c implement khÃ¡ Ä‘Æ¡n giáº£n <a href="https://en.wikipedia.org/wiki/Linear_congruential_generator"> linear congruential </a> nhá» táº­n dá»¥ng tÃ­nh cháº¥t cá»§a sá»‘ cÄƒn nguyÃªn thá»§y (xem <a href="https://en.wikipedia.org/wiki/Lehmer_random_number_generator">Lehmer random generator</a>). Äiá»u thÃº vá»‹ náº±m á»Ÿ chá»— 1 tÃ­nh cháº¥t khÃ´ng liÃªn quan máº¥y bÃªn lÃ½ thuyáº¿t sá»‘ láº¡i há»— trá»£ cho viá»‡c sinh sá»‘ ngáº«u nhiÃªn.
Btw, TAOCP Vol 2 nÃ³i khÃ¡ kÄ© vá» váº¥n Ä‘á» nÃ y. Má»™t ká»¹ thuáº­t Ä‘á»ƒ check xem empirical results cÃ³ Ä‘Ãºng vá»›i probabilities khÃ´ng (uniform distribution vá»›i biáº¿n ngáº«u nhiÃªn rá»i ráº¡c), Ä‘Ã³ lÃ  dÃ¹ng Chi squared test.</p>
<p>Link:
<a href="https://channel9.msdn.com/Events/GoingNative/2013/rand-Considered-Harmful">https://channel9.msdn.com/Events/GoingNative/2013/rand-Considered-Harmful</a></p>

  </div>
</article>

  


  
    <div class="nav-bkg-50 content-container-narrow-pad bottom-links text-0p75">
      <nav class="flex-row">
      
      <a href="http://dangkhoasdc.github.io/post/2016/10/23/constexpr-h%E1%BA%B1ng-bi%E1%BB%83u-th%E1%BB%A9c-trong-c-11/" class="flex-row v-center no-underline"  style="max-width:45%;">
        <span class="text-1p5">â†</span>&nbsp;<span class="re-underline">Previous: constexpr: Háº±ng biá»ƒu thá»©c trong C&#43;&#43;11</span>
      </a>
      
      
        <a href="http://dangkhoasdc.github.io/post/2017/09/10/la-la-land/" class="flex-row v-center no-underline" style="max-width: 45%;">
        <span class="re-underline">Next: La La Land</span>&nbsp;<span class="text-1p5">â†’</span>
        </a>
      
      </nav>
    </div>
  
  <footer>
    </footer>
    </body>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.css" integrity="sha384-yFRtMMDnQtDRO8rLpMIKrtPCD5jdktao2TV19YiZYWMDkUR5GQZR/NOVTdquEx1j" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.js" integrity="sha384-9Nhn55MVVN0/4OFx7EE5kpFBPsEMZxKTCnA+4fqDmg12eCTqGi6+BB2LjY8brQxJ" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/contrib/auto-render.min.js" integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous"
onload='renderMathInElement(document.body,{
  delimiters: [
      {left: "$$", right: "$$", display: true},
      {left: "\\[", right: "\\]", display: true},
      {left: "$", right: "$", display: false},
      {left: "\\(", right: "\\)", display: false}
  ]});'></script>

  </html>
  

  </body>
</html>
