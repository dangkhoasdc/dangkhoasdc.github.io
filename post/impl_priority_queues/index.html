<!DOCTYPE html>
<html lang="en-us">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="theme" content="hugo-academic">
  <meta name="generator" content="Hugo 0.36.1" />
  <meta name="author" content="Dang-Khoa">
  <meta name="description" content="Research Assistant">

  
  <link rel="alternate" hreflang="en-us" href="http://dangkhoasdc.github.io/post/impl_priority_queues/">

  
  


  

  
  
  
  
    
  
  
    
    
      
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
      
    
  
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha512-6MXa8B6uaO18Hid6blRMetEIoPqHf7Ux1tnyIQdpt9qI5OACx7C+O3IVTr98vwGnlcg0LOLa02i9Y1HpVhlfiw==" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.1/css/academicons.min.css" integrity="sha512-NThgw3XKQ1absAahW6to7Ey42uycrVvfNfyjqcFNgCmOCQ5AR4AO0SiXrN+8ZtYeappp56lk1WtvjVmEa+VR6A==" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha512-SfTiTlX6kk+qitfevl/7LibUOeJWlt9rbyDn92a1DqWOw9vWG2MFoays0sgObmWazO5BQPiFucnnEAjpAB+/Sw==" crossorigin="anonymous">
  
  
  
  
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Montserrat:400,700%7cRoboto:400,400italic,700%7cRoboto&#43;Mono">
  
  <link rel="stylesheet" href="/styles.css">
  
  <link rel="stylesheet" href="/css/custom-theme.css">
  

  
    <script>
      window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
      ga('create', 'UA-2381283-3', 'auto');
      ga('require', 'eventTracker');
      ga('require', 'outboundLinkTracker');
      ga('require', 'urlChangeTracker');
      ga('send', 'pageview');
    </script>
    <script async src="//www.google-analytics.com/analytics.js"></script>
    
    <script async src="https://cdnjs.cloudflare.com/ajax/libs/autotrack/2.4.1/autotrack.js" integrity="sha512-HUmooslVKj4m6OBu0OgzjXXr+QuFYy/k7eLI5jdeEy/F4RSgMn6XRWRGkFi5IFaFgy7uFTkegp3Z0XnJf3Jq+g==" crossorigin="anonymous"></script>
    
  

  

  <link rel="manifest" href="/site.webmanifest">
  <link rel="icon" type="image/png" href="/img/icon.png">
  <link rel="apple-touch-icon" type="image/png" href="/img/icon-192.png">

  <link rel="canonical" href="http://dangkhoasdc.github.io/post/impl_priority_queues/">

  <meta property="twitter:card" content="summary_large_image">
  
  <meta property="twitter:site" content="@dksdc">
  <meta property="twitter:creator" content="@dksdc">
  
  <meta property="og:site_name" content="Dang-Khoa&#39;s blog ">
  <meta property="og:url" content="http://dangkhoasdc.github.io/post/impl_priority_queues/">
  <meta property="og:title" content="Có bao nhiêu cách cài đặt Hàng đợi ưu tiên? | Dang-Khoa&#39;s blog ">
  <meta property="og:description" content="">
  <meta property="og:locale" content="en-us">
  
  <meta property="article:published_time" content="2018-01-10T00:00:00&#43;00:00">
  
  <meta property="article:modified_time" content="2018-01-10T00:00:00&#43;00:00">
  

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-2248880369139457",
    enable_page_level_ads: true
  });
</script>


  <title>Có bao nhiêu cách cài đặt Hàng đợi ưu tiên? | Dang-Khoa&#39;s blog </title>

</head>
<body id="top" data-spy="scroll" data-target="#navbar-main" data-offset="71" >

<nav class="navbar navbar-default navbar-fixed-top" id="navbar-main">
  <div class="container">

    
    <div class="navbar-header">
      
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
              data-target=".navbar-collapse" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      
      <a class="navbar-brand" href="/">Dang-Khoa&#39;s blog </a>
    </div>

    
    <div class="collapse navbar-collapse">

      
      <ul class="nav navbar-nav navbar-right">
        

        

        <li class="nav-item">
          <a href="/#posts">
            
            <span>Posts</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/#about">
            
            <span>Home</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/#projects">
            
            <span>Projects</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/#publications_selected">
            
            <span>Publications</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/about/">
            
            <span>About</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/tags/notes/">
            
            <span>Notes</span>
          </a>
        </li>

        
        

        
      </ul>

    </div>
  </div>
</nav>


<article class="article" itemscope itemtype="http://schema.org/Article">

  


  <div class="article-container">
    <div class="article-inner">
      <h1 itemprop="name">Có bao nhiêu cách cài đặt Hàng đợi ưu tiên?</h1>

      

<div class="article-metadata">

  <span class="article-date">
    
    <time datetime="2018-01-10 00:00:00 &#43;0000 UTC" itemprop="datePublished">
      2018-01-10
    </time>
  </span>

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    4 min read
  </span>
  

  
  
  <span class="middot-divider"></span>
  <a href="http://dangkhoasdc.github.io/post/impl_priority_queues/#disqus_thread"></a>
  

  

  
  
<div class="share-box" aria-hidden="true">
  <ul class="share">
    <li>
      <a class="twitter"
         href="https://twitter.com/intent/tweet?text=C%c3%b3%20bao%20nhi%c3%aau%20c%c3%a1ch%20c%c3%a0i%20%c4%91%e1%ba%b7t%20H%c3%a0ng%20%c4%91%e1%bb%a3i%20%c6%b0u%20ti%c3%aan%3f&amp;url=http%3a%2f%2fdangkhoasdc.github.io%2fpost%2fimpl_priority_queues%2f"
         target="_blank" rel="noopener">
        <i class="fa fa-twitter"></i>
      </a>
    </li>
    <li>
      <a class="facebook"
         href="https://www.facebook.com/sharer.php?u=http%3a%2f%2fdangkhoasdc.github.io%2fpost%2fimpl_priority_queues%2f"
         target="_blank" rel="noopener">
        <i class="fa fa-facebook"></i>
      </a>
    </li>
    <li>
      <a class="linkedin"
         href="https://www.linkedin.com/shareArticle?mini=true&amp;url=http%3a%2f%2fdangkhoasdc.github.io%2fpost%2fimpl_priority_queues%2f&amp;title=C%c3%b3%20bao%20nhi%c3%aau%20c%c3%a1ch%20c%c3%a0i%20%c4%91%e1%ba%b7t%20H%c3%a0ng%20%c4%91%e1%bb%a3i%20%c6%b0u%20ti%c3%aan%3f"
         target="_blank" rel="noopener">
        <i class="fa fa-linkedin"></i>
      </a>
    </li>
    <li>
      <a class="email"
         href="mailto:?subject=C%c3%b3%20bao%20nhi%c3%aau%20c%c3%a1ch%20c%c3%a0i%20%c4%91%e1%ba%b7t%20H%c3%a0ng%20%c4%91%e1%bb%a3i%20%c6%b0u%20ti%c3%aan%3f&amp;body=http%3a%2f%2fdangkhoasdc.github.io%2fpost%2fimpl_priority_queues%2f">
        <i class="fa fa-envelope"></i>
      </a>
    </li>
  </ul>
</div>


  

</div>


      <div class="article-style" itemprop="articleBody">
        

<p>Cấu trúc Hàng Đợi Ưu Tiên (priority queues) là một trong những CTDL kinh điển
trong KHMT với rất nhiều ứng dụng khác nhau, có thể kể đến như:</p>

<ul>
<li>CTDL quan trọng cho các thuật toán khác như Dijkstra&rsquo;s Algorithms.</li>
<li>Numerical Optimization: một vài thuật toán optimization (đặc biệt là iterative
optimization) phải chọn ra những biểu thức có sai số làm tròn cao nhất/thấp nhất
để thực thi.</li>
<li>Trong Hệ Điều Hành, các giải thuật lập lịch, scheduling.</li>
<li>Trong các hệ thống giả lập, những sự kiện theo trình tự thời gian được ưu tiên
thực thi trước.</li>
</ul>

<p>Priority Queues có hai toán tử rất quan trọng:</p>

<ul>
<li>Chèn một phần tử vào queue (<code>find_max</code>).</li>
<li>Lấy ra phần tử lớn nhất trong queue (<code>push</code>).</li>
</ul>

<p>Chính vì hai chức năng này nên đôi khi Priority queues còn được nhắc đến với cái
tên: Largest in, first out; (để phân biệt với First in, First out hay First in,
last out). Cụ thể hơn, nếu phần tử <code>K[N]</code> là <strong>phần tử lớn nhất</strong> được chèn vào, thì
<code>K[N]</code> cũng là <strong>phần tử đầu tiên</strong> được lấy ra.</p>

<p>Bởi tầm quan trọng của 2 hàm này, khi tiếp cận bất kì cài đặt nào liên quan
đến priority queues, ta luôn quan tâm cách mà 2 toán tử này duy trì trạng thái
trình tự của các phần tử trong CTDL, đó cũng là phần phân tích chính trong bài
viết này.</p>

<h1 id="các-phương-pháp-cài-đặt">Các phương pháp cài đặt</h1>

<p>Toàn bộ các cài đặt bằng C++ và các phân tích được đề cập chi tiết trong note
<code>Algorithms</code> trên Github của mình. Trên blog mình chỉ tóm tắt sơ lược về các
cài đặt và một số fun facts xung quanh.</p>

<p>Danh sách bên dưới có một điều thú vị, đó là ta sẽ thấy độ thần thánh của R.Tarjan,
ông đóng góp <sup>4</sup>&frasl;<sub>12</sub> cấu trúc được đề cập.</p>

<h2 id="cài-đặt-bằng-mảng">Cài đặt bằng mảng</h2>

<p>Một cách đơn giản nhất khi sử dụng mảng đó là:</p>

<ol>
<li>Luôn giữ một mảng được sắp xếp, <code>find_max</code> đơn giản chỉ là lấy ra phần tử
đầu hoặc cuối dãy. Khi <code>push</code>, ta sử dụng chiến lược tương tự như <code>insertion_sort</code>.</li>
<li><code>push</code> thực hiện như mảng bình thường. Khi gọi <code>find_max</code>, ta đơn giản tìm
phần tử lớn nhất trong mảng đó.</li>
</ol>

<p>Cả hai phương pháp đều có độ phức tạp $\mathcal{O}(1)$ và $\mathcal{O}(N)$ ứng
với <code>find_max</code>, <code>push</code> (cho trường hợp 1) và <code>push</code>,<code>find_max</code> (cho trường
hợp 2).</p>

<p>Một cách tốt hơn, khá dễ cài đặt là sử dụng heapsort với độ phức tạp là $\lg N$
cho cả 2 toán tử. Chi tiết về heapsort và heap trong priority queue thì quá kinh
điển rồi, hầu như mọi sách về thuật toán đề có đề cập.</p>

<h2 id="leftist-tree">Leftist tree</h2>

<p>Tác giả: Clark A. Crane (1971).</p>

<p>Một phương pháp cài đặt dạng danh sách liên kết, trong đó mỗi node có các phần
tử như sau:</p>

<pre><code class="language-cpp">template&lt;typename Key&gt;
struct node {
    node * left;
    node * right;
    int dist;
    Key k;
};
</code></pre>

<p>Đây là cây nhị phân đặt biệt, trong đó cây con bên trái luôn nhiều phần tử hơn
cây con bên phải, việc này được duy trì thông qua việc câp nhật giá trị <code>dist</code>:
khoảng cách của node hiện tại tới node <code>NULL</code> gần nhất.</p>

<p>Chi tiết về thuật toán và cài đặt:</p>

<ol>
<li>TAoCP, Vol 3, Section 5.2.3: A linked representation for priority queues.</li>
<li><a href="https://www.geeksforgeeks.org/leftist-tree-leftist-heap/" target="_blank">Geeksforgeeks</a></li>
</ol>

<p>Ưu điểm của CTDL này chính là việc nó có khả năng gộp 2 priority queues lại với
độ phức tạp khá nhỏ. Tuy nhiên, CTDL này thực sự không còn phổ biến.</p>

<h2 id="cây-cân-bằng">Cây cân bằng</h2>

<h2 id="stratified-tree">Stratified tree</h2>

<p>Cấu trúc dữ liệu này có một cái tên phổ biến hơn: <strong>van Emde boas tree</strong> [Rất
tiếc trên Wikipedia, phần
<a href="https://en.wikipedia.org/wiki/Van_Emde_Boas_tree" target="_blank">van Emde Boas tre</a>
lại không đề cập đến tên gọi gốc của CTDL này].</p>

<blockquote>
<p>Beware of bugs in the above code; I have only proved it correct, not tried it</p>
</blockquote>

<p>Câu nói kinh điển này của Don Knuth xuất phát từ việc ông trao đổi với tác giả
của cấu trúc này <a href="http://www-cs-faculty.stanford.edu/~knuth/faq.html" target="_blank">[link 1]</a>,
<a href="http://www.illc.uva.nl/Research/Publications/Reports/PP-2013-16.text.pdf" target="_blank">[link 2]</a>.</p>

<h2 id="binomial-queues">Binomial Queues</h2>

<p>Tác giả: J. Vuillemin (1978).</p>

<h2 id="pagodas">Pagodas</h2>

<p>Tác giả: J. Francon, G. Viennot, and J. Vuillemin (1978).</p>

<h2 id="pairing-heaps">Pairing heaps</h2>

<p>Tác giả: Micheal Fredman, Robert Sedgewick, Daniel Sleator, Robert Tarjan (1986).</p>

<h2 id="skew-heaps">Skew heaps</h2>

<h2 id="fibonacci-heaps-và-dạng-tổng-quát-af-heaps">Fibonacci heaps và dạng tổng quát: AF heaps</h2>

<p>Một trong những ví dụ kinh điển về những thuật toán/CTDL có tính chất rất tốt
về mặt lý thuyết nhưng lại thất bại trong ứng dụng thực tiễn.</p>

<h2 id="calendar-queues">Calendar queues</h2>

<h2 id="relaxed-heaps">Relaxed heaps</h2>

<h2 id="fishspear">Fishspear</h2>

<h2 id="hot-queues">Hot queues</h2>

<h1 id="so-sánh">So sánh</h1>

      </div>

      


<div class="article-tags">
  
  <a class="btn btn-primary btn-outline" href="/tags/programming">programming</a>
  
  <a class="btn btn-primary btn-outline" href="/tags/algorithms">algorithms</a>
  
</div>



    </div>
  </div>

</article>



<div class="article-container article-widget">
  <div class="hr-light"></div>
  <h3>Related</h3>
  <ul>
    
    <li><a href="/post/improved_qsort/">Một số biến thể Quicksort</a></li>
    
    <li><a href="/post/fibsearch/">Giải thuật tìm kiếm Fibonacci</a></li>
    
    <li><a href="/post/taocp/howto/">Đọc &#34;Nghệ Thuật Lập Trình&#34; (TAoCP)</a></li>
    
    <li><a href="/post/sakamoto_method/">Bài toán chuyển ngày sang thứ</a></li>
    
    <li><a href="/post/total_order/">Cài đặt quan hệ thứ tự trong C&#43;&#43;</a></li>
    
  </ul>
</div>




<div class="article-container">
  
<section id="comments">
  <div id="disqus_thread"></div>
<script>
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "httpdangkhoasdcgithubio" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</section>


</div>

<footer class="site-footer">
  <div class="container">
    <p class="powered-by">

      &copy; 2017 Dang-Khoa &middot; 

      Powered by the
      <a href="https://sourcethemes.com/academic/" target="_blank" rel="noopener">Academic theme</a> for
      <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a>.

      <span class="pull-right" aria-hidden="true">
        <a href="#" id="back_to_top">
          <span class="button_icon">
            <i class="fa fa-chevron-up fa-2x"></i>
          </span>
        </a>
      </span>

    </p>
  </div>
</footer>


<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close btn-large" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Cite</h4>
      </div>
      <div>
        <pre><code class="modal-body tex"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-primary btn-outline js-copy-cite" href="#" target="_blank">
          <i class="fa fa-copy"></i> Copy
        </a>
        <a class="btn btn-primary btn-outline js-download-cite" href="#" target="_blank">
          <i class="fa fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

    

    
    
    <script id="dsq-count-scr" src="//httpdangkhoasdcgithubio.disqus.com/count.js" async></script>
    

    

    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js" integrity="sha512-3P8rXCuGJdNZOnUx/03c1jOTnMn3rP63nBip5gOP2qmUh5YAdVAvFZ1E+QLZZbC1rtMrQb+mah3AfYW11RUrWA==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.3/imagesloaded.pkgd.min.js" integrity="sha512-umsR78NN0D23AzgoZ11K7raBD+R6hqKojyBZs1w8WvYlsI+QuKRGBx3LFCwhatzBunCjDuJpDHwxD13sLMbpRA==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha512-iztkobsvnjKfAtTNdHkGVjAYTrrtlC7mGp/54c40wowO7LhURYl3gVzzcEqGl/qKXQltJ2HwMrdLcNUdo+N/RQ==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.4/isotope.pkgd.min.js" integrity="sha512-VDBOIlDbuC4VWxGJNmuFRQ0Li0SKkDpmGyuhAG5LTDLd/dJ/S0WMVxriR2Y+CyPL5gzjpN4f/6iqWVBJlht0tQ==" crossorigin="anonymous"></script>
    
    
    <script src="/js/hugo-academic.js"></script>
    

    
    
      
      
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" integrity="sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw=" crossorigin="anonymous"></script>
      

      

      

      <script>hljs.initHighlightingOnLoad();</script>
    

    
    
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({ tex2jax: { inlineMath: [['$','$'], ['\\(','\\)']] } });
    </script>



    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_CHTML" integrity="sha512-tOav5w1OjvsSJzePRtt2uQPFwBoHt1VZcUq8l8nm5284LEKE9FSJBQryzMBzHxY5P0zRdNqEcpLIRVYFNgu1jw==" crossorigin="anonymous"></script>
    

    

  </body>
</html>

