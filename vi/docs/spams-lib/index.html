<!DOCTYPE html>
<html lang='vi'>

<head>
  <meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='description' content='Không còn gì sung sướng hơn sau 2 ngày ngồi cài cái khỉ gió sparse coding lib cho python, link cái thằng khỉ gió nó ở đây: Spams lib. Mặc dù đã cố gắng nhưng phải mất mấy tiếng đồng hồ mình mới xong được cu cậu này.
Sau đây là một số kinh nghiệm xương máu mình có thể rút ra như sau:
 Không giống như cu Linux hay các bản distro của nó.'>
<meta name='theme-color' content='#ffcd00'>

<meta property='og:title' content='Spams Lib và Những Tâm Sự • Dang-Khoa'>
<meta property='og:description' content='Không còn gì sung sướng hơn sau 2 ngày ngồi cài cái khỉ gió sparse coding lib cho python, link cái thằng khỉ gió nó ở đây: Spams lib. Mặc dù đã cố gắng nhưng phải mất mấy tiếng đồng hồ mình mới xong được cu cậu này.
Sau đây là một số kinh nghiệm xương máu mình có thể rút ra như sau:
 Không giống như cu Linux hay các bản distro của nó.'>
<meta property='og:url' content='http://dangkhoasdc.github.io/vi/docs/spams-lib/'>
<meta property='og:site_name' content='Dang-Khoa&#39;s blog '>
<meta property='og:type' content='article'><meta property='og:image' content='https://www.gravatar.com/avatar/ff98eba7ca4592a175b13bd623f28f0c?s=256'><meta property='article:author' content='https://facebook.com/dangkhoasdc'><meta property='article:section' content='Docs'><meta property='article:tag' content='programming'><meta property='article:tag' content='misc'><meta property='article:published_time' content='2015-02-25T00:00:00Z'/><meta property='article:modified_time' content='2015-02-25T00:00:00Z'/><meta name='twitter:card' content='summary'><meta name='twitter:creator' content='@dksdc'>

<meta name="generator" content="Hugo 0.53" />

  <title>Spams Lib và Những Tâm Sự • Dang-Khoa</title>
  <link rel='canonical' href='http://dangkhoasdc.github.io/vi/docs/spams-lib/'>
  
  
  <link rel='icon' href='/favicon.ico'>
<link rel='stylesheet' href='/assets/css/main.809149b6.css'><style>
:root{--color-accent:#ffcd00;}
</style>

<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-2381283-3', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

  

</head>


<body class='page type-docs'>

  <div class='site'>

    <a class='screen-reader-text' href='#content'>Skip to Content</a>

    <div class='main'>

      <nav id='main-menu' class='menu main-menu' aria-label='Main Menu'>
  <div class='container'>
    
    <ul><li class='item'>
        <a href='/vi/docs/' class="">
          <span>Docs</span>
        </a>
      </li><li class='item'>
        <a href='#posts' class="">
          <span>Posts</span>
        </a>
      </li><li class='item'>
        <a href='#about' class="">
          <span>Home</span>
        </a>
      </li><li class='item'>
        <a href='#projects' class="">
          <span>Projects</span>
        </a>
      </li><li class='item'>
        <a href='#publications_selected' class="">
          <span>Publications</span>
        </a>
      </li><li class='item'>
        <a href='/about/' class="">
          <span>About</span>
        </a>
      </li><li class='item'>
        <a href='/tags/notes/' class="">
          <span>Notes</span>
        </a>
      </li></ul>
  </div>
</nav>

      <header id='header' class='header site-header'>
        <div class='container sep-after'>
          <div class='header-info'><p class='site-title title'>Dang-Khoa&#39;s blog </p><p class='desc site-desc'></p>
          </div>
        </div>
      </header>

      <main id='content'>


<article lang='vi' class='entry'>
  <header class='header entry-header'>
  <div class='container sep-after'>
    <div class='header-info'>
      <h1 class='title'>Spams Lib và Những Tâm Sự</h1>
      

    </div>
    
<div class='entry-meta'>
  <span class='posted-on'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
  <line x1="16" y1="2" x2="16" y2="6"/>
  <line x1="8" y1="2" x2="8" y2="6"/>
  <line x1="3" y1="10" x2="21" y2="10"/>
  
</svg>
<span class='screen-reader-text'>Posted on </span>
  <time class='entry-date' datetime='2015-02-25T00:00:00Z'>2015, Feb 25</time>
</span>

  <span class='byline'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <path d="M21,21V20c0-2.76-4-5-9-5s-9,2.24-9,5v1"/>
  <path d="M16,6.37A4,4,0,1,1,12.63,3,4,4,0,0,1,16,6.37Z"/>
  
</svg>
<span class='screen-reader-text'> by </span><a href='/vi/authors/khoa'>Dang-Khoa</a></span>
  

  
  
</div>


  </div>
</header>

  
  

  <div class='container entry-content'>
  <p>Không còn gì sung sướng hơn sau 2 ngày ngồi cài cái khỉ gió <em>sparse coding lib cho python</em>, link cái thằng khỉ gió nó ở đây: <a href="http://spams-devel.gforge.inria.fr/downloads.html" target="_blank">Spams lib</a>. Mặc dù đã cố gắng nhưng phải mất mấy tiếng đồng hồ mình mới xong được cu cậu này.</p>

<p>Sau đây là một số kinh nghiệm xương máu mình có thể rút ra như sau:</p>

<ol>
<li><p>Không giống như cu Linux hay các bản distro của nó. Trên Mac có 2 cái package manager: MacPorts và HomeBrew. Mà 2 cái này nó lại đẻ ra một số chuyện linh ta linh tinh:</p>

<ul>
<li><p>Chúng cài đặt các phần mềm ở những chỗ khác nhau, như cu MacPorts nhét trong <em>/opt/local/bin/</em>, cu kia thì kinh dị hơn, nhét trong <em>/usr/local/Cellar/</em> làm mình chả biết đường nào mà lần.</p></li>

<li><p>Tất cả các đồng chí trên đều đưa đường dẫn đến $PATH, và rồi hầm bà lằng các conflict xuất hiện khiến mình muốn điên đầu.</p></li>

<li><p><strong>Bài học tổng kết: chỉ nên xài 1 trong 2 cu</strong></p></li>
</ul></li>

<li><p>Không nên tin tưởng hàng của Apple cho lắm, cu cậu chế ra các thứ quá là điên:</p>

<ul>
<li><p>Trình biên dịch của Apple chế ra một số options mà ta phải kể đến như cái <code>-arch</code> chết dịch, ngoài ra còn có cu warning <code>-Wshorten64-to-32</code>. Python tự generate ra những option dựa trên hệ điều hành đang dùng, khổ một cái, cái compiler mình dùng lại không support cho mấy cái chuyện đó.</p></li>

<li><p>Ngoài ra, clang của Apple còn không hỗ trợ cả OpenMP, mà cái này bắt buộc phải có trong cái sparse coding lib này. Đại khái nó cứ luẩn quẩn.</p></li>

<li><p>Chưa hết, trong <code>setup.py</code> cu này để option mặc định là <code>-m32</code>, tức là sử dụng kiến trúc 32bit. Máy mình lại là 64bit. Sửa lại thì được nhưng lại phải chọn kiến trúc trong file thực thi của python.</p></li>
</ul></li>
</ol>

<p>Đại khái là xoắn. Giờ thì mình đã biết cách giải quyết:</p>

<ol>
<li><p>Cài <strong>python</strong> từ trang chủ.</p></li>

<li><p>Xác định đường dẫn chính thức của nó, mò xem nó ở đâu và add vô trong $PATH.</p></li>

<li><p>Sử dụng <strong>Superpack</strong> để cài các gói liên quan trong scipy. <a href="https://github.com/fonnesbeck/ScipySuperpack" target="_blank">link nó đây</a>. Trong này thì lưu ý cái biên $PIP, sửa lại cho phù hợp với cái máy của mình.</p></li>

<li><p>Đối với cu numpy và scipy thì cài đặt thông qua pip.</p></li>
</ol>

</div>

  
<footer class='entry-footer'>
  <div class='container sep-before'>
  <div class='tags'>
  <span class='taxonomy-icon'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <path d="M20.59,13.41l-7.17,7.17a2,2,0,0,1-2.83,0L2,12V2H12l8.59,8.59A2,2,0,0,1,20.59,13.41Z"/>
  <line x1="7" y1="7" x2="7" y2="7"/>
  
</svg>
</span>
  <span class='screen-reader-text'>Tags: </span><a class='tag' href='/vi/tags/programming'>programming</a>, <a class='tag' href='/vi/tags/misc'>misc</a></div>

  </div>
</footer>


</article>

<nav class='entry-nav'>
  <div class='container'><div class='next-entry sep-before'>
      <a href='/vi/docs/opencv-tips/'>
        <span class='screen-reader-text'>Next post: </span>Ghi chú hướng dẫn cài đặt OpenCV<span aria-hidden='true'>Next <svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <line x1="4" y1="12" x2="20" y2="12"/>
  <polyline points="14 6 20 12 14 18"/>
  
</svg>
</span>
      </a>
    </div></div>
</nav>




      </main>

      <footer id='footer' class='footer'>
        <div class='container sep-before'><div class='copyright'>
  <p>&amp;copy; 2017 Dang-Khoa</p>
</div>

        </div>
      </footer>

    </div>
  </div><script>window.__public_path__='http:\/\/dangkhoasdc.github.io\/assets\/js\/'</script>

<script src='http://dangkhoasdc.github.io/assets/js/main.68cb493a.js'></script><script type='text/x-mathjax-config'>
  MathJax.Hub.Config({"tex2jax":{"inlineMath":[["$","$"],["\\(","\\)"]],"processEscapes":true}})
</script>

<script type='text/javascript' async src='//unpkg.com/mathjax/MathJax.js?config=TeX-MML-AM_CHTML'></script>





</body>

</html>






















