<!DOCTYPE html>
<html lang="en-us">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="theme" content="hugo-academic">
  <meta name="generator" content="Hugo 0.40.3" />
  <meta name="author" content="Dang-Khoa">
  <meta name="description" content="Research Assistant">

  
  
  
    
  
  
    
    
    <link rel="stylesheet" href="/css/highlight.min.css">
    
  
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha512-6MXa8B6uaO18Hid6blRMetEIoPqHf7Ux1tnyIQdpt9qI5OACx7C+O3IVTr98vwGnlcg0LOLa02i9Y1HpVhlfiw==" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.1/css/academicons.min.css" integrity="sha512-NThgw3XKQ1absAahW6to7Ey42uycrVvfNfyjqcFNgCmOCQ5AR4AO0SiXrN+8ZtYeappp56lk1WtvjVmEa+VR6A==" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha512-SfTiTlX6kk+qitfevl/7LibUOeJWlt9rbyDn92a1DqWOw9vWG2MFoays0sgObmWazO5BQPiFucnnEAjpAB+/Sw==" crossorigin="anonymous">
  
  
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:400,700%7CMerriweather%7CRoboto+Mono">
  <link rel="stylesheet" href="/css/hugo-academic.css">
  
  <link rel="stylesheet" href="/css/custom-theme.css">
  

  
    <script>
      window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
      ga('create', 'UA-2381283-3', 'auto');
      ga('require', 'eventTracker');
      ga('require', 'outboundLinkTracker');
      ga('require', 'urlChangeTracker');
      ga('send', 'pageview');
    </script>
    <script async src="//www.google-analytics.com/analytics.js"></script>
    
    <script async src="https://cdnjs.cloudflare.com/ajax/libs/autotrack/2.4.1/autotrack.js" integrity="sha512-HUmooslVKj4m6OBu0OgzjXXr+QuFYy/k7eLI5jdeEy/F4RSgMn6XRWRGkFi5IFaFgy7uFTkegp3Z0XnJf3Jq+g==" crossorigin="anonymous"></script>
    
  

  <link rel="alternate" href="" type="application/rss+xml" title="Dang-Khoa&#39;s blog ">
  <link rel="feed" href="" type="application/rss+xml" title="Dang-Khoa&#39;s blog ">

  <link rel="icon" type="image/png" href="/img/icon.png">
  <link rel="apple-touch-icon" type="image/png" href="/img/apple-touch-icon.png">

  <link rel="canonical" href="http://dangkhoasdc.github.io/logs/cryto_tech/">

  

  <title>Crytocurrency Technology | Dang-Khoa&#39;s blog </title>

</head>
<body id="top" data-spy="scroll" data-target="#navbar-main" data-offset="71">

<nav class="navbar navbar-default navbar-fixed-top" id="navbar-main">
  <div class="container">

    
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
              data-target=".navbar-collapse" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/">Dang-Khoa&#39;s blog </a>
    </div>

    
    <div class="collapse navbar-collapse">

      
      <ul class="nav navbar-nav navbar-right">
        

        

        <li class="nav-item">
          <a href="/#posts">
            
            <span>Posts</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/#about">
            
            <span>Home</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/#projects">
            
            <span>Projects</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/#publications_selected">
            
            <span>Publications</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/about/">
            
            <span>About</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/tags/notes/">
            
            <span>Notes</span>
          </a>
        </li>

        
        

        
      </ul>

    </div>
  </div>
</nav>


<article class="article" itemscope itemtype="http://schema.org/Article">

  


  <div class="article-container">
    <h1 itemprop="name">Crytocurrency Technology</h1>
    

<div class="article-metadata">

  <span class="article-date">
    
    <time datetime="2018-02-05 00:00:00 &#43;0000 UTC" itemprop="datePublished">
      2018-02-05
    </time>
  </span>

  

  
  
  
  <span class="article-tags">
    <i class="fa fa-tags"></i>
    
    <a href="/tags/logs">logs</a
    >, 
    
    <a href="/tags/cryto">cryto</a
    >
    
  </span>
  
  

  
  
<div class="share-box" aria-hidden="true">
  <ul class="share">
    <li>
      <a class="facebook"
         href="https://www.facebook.com/sharer.php?u=http%3a%2f%2fdangkhoasdc.github.io%2flogs%2fcryto_tech%2f"
         target="_blank">
        <i class="fa fa-facebook"></i>
      </a>
    </li>
    <li>
      <a class="twitter"
         href="https://twitter.com/intent/tweet?text=Crytocurrency%20Technology&amp;url=http%3a%2f%2fdangkhoasdc.github.io%2flogs%2fcryto_tech%2f"
         target="_blank">
        <i class="fa fa-twitter"></i>
      </a>
    </li>
    <li>
      <a class="linkedin"
         href="https://www.linkedin.com/shareArticle?mini=true&amp;url=http%3a%2f%2fdangkhoasdc.github.io%2flogs%2fcryto_tech%2f&amp;title=Crytocurrency%20Technology"
         target="_blank">
        <i class="fa fa-linkedin"></i>
      </a>
    </li>
    
    
    
    
    
    
    
    <li>
      <a class="email"
         href="mailto:?subject=Crytocurrency%20Technology&amp;body=http%3a%2f%2fdangkhoasdc.github.io%2flogs%2fcryto_tech%2f">
        <i class="fa fa-envelope"></i>
      </a>
    </li>
  </ul>
</div>


  

</div>

    <div class="article-style" itemprop="articleBody">
      

<h1 id="crytographic-hash-function">Crytographic Hash Function</h1>

<p>A mathematic function:</p>

<ul>
<li>Input: any string</li>
<li>Output: fixed-size output (usually 256 bits)</li>
<li>Efficiently computable</li>
</ul>

<h2 id="properties">Properties:</h2>

<h2 id="collision-free">Collision-free</h2>

<p>It is very difficult to find $x$ and $y$ for a
crytographic hash function such that:</p>

<pre><code>$ x\neq y {\text and} H(x)= H(y)$
</code></pre>

<p>What is a quantitative measures for difficult
level to find a collision?</p>

<p>One method: try $2^130$ randomly chosen inputs, we can
got 99.8% chance of collision.</p>

<p>Is there any faster methods to find collisions? Given
a specific $H$, we may be find a better way.</p>

<blockquote>
<p>There is no such $H$ proven to be collision-free.</p>
</blockquote>

<p>The output is called message digest.</p>

<p>One application is that to compare two files, namely checking
the message digest of two files.</p>

<h2 id="hiding">Hiding</h2>

<p>Given $H(x)$, it is infeasible (not impossible) to find $x$.</p>

<h3 id="definition">Definition</h3>

<p>If $r$ is chosen from a probability distribution that has
<strong>high min-entropy</strong>, then given $H(r|x)$, it is infeasible
to find $x$</p>

<p>High min-entropy:</p>

<p>Application: Commitment</p>

<p>Seal a message and later can open it. The algorithm:</p>

<pre><code class="language-python"># seal the `msg`
# publish key and msg
com, key = commit(msg)


# check `msg`
match = verify(com, key, msg)
</code></pre>

<p>Properties:
- Hiding: Given H(key|msg), it is infeasible to find <code>msg</code>.
- Binding: infeasible to find <code>msg!=msg'</code> such that <code>H(key|msg) == H(key|msg')</code></p>

<h2 id="puzzle-friendly">Puzzle-friendly</h2>

<h3 id="definition-1">Definition</h3>

<p>For every possible output value $y$, if $k$ is chosen from a
distribution with high min-entropy, the it is infeasible
to find $x$ such that $H(k|x) = y$</p>

<p>Intuitively, there is no way to find a solution except
exhaustively find all posibilities in the input space.</p>

<p>Application: coin miner or so call search puzzle</p>

<pre><code># Input: puzzle id  and target Y
# Output: a solution `x` such that H(id|x) \in Y
</code></pre>

<p>Hash function: SHA-256.
- Input: break a message into blocks of size 512 bits. For
padding, we append one <code>1</code> and several <code>0</code> to make a 64 bit
length.
- Compute c(c(c(IV, msg1), msg2), msg3, &hellip;)
- Output: a 256bits string.</p>

<h1 id="hash-pointer">Hash pointer</h1>

<p>A pointer to where some info is stored, and crytopgraphic
hash of the info.</p>

<ul>
<li>Ask to get the info back</li>
<li>Verify that it has not changed.</li>
</ul>

<p>So, blockchain is a linked list with hash pointer, in which
the <strong>hash pointer</strong> points to the next/previous item.</p>

<p>Applications:
- <a href="https://en.wikipedia.org/wiki/Tamper-evident_technology" target="_blank">Tamper-evident technology</a>.</p>

<ul>
<li>Merkel tree: hashing version of binary trees.</li>
</ul>

<h2 id="signatures">Signatures</h2>

<p>A signature validates the endorsement of its author.</p>

<pre><code class="language-python"># sk: secret keys
# pk: public keys
sk, pk = generrate_keys(key_size)

# sig = signature
sig = sign(sk, msg)

# Theve above functions should be randomized algs

# we only publish `sig` and `pk`

isvalid = verify(pk, msg, sig)
</code></pre>

<h3 id="requirements">Requirements</h3>

<ol>
<li>Valid signatures verify: <code>verify(pk, msg, sign(sk, msg)) == true</code>.</li>
<li>Can not forge signatures. Basically, it forms a adversary game as following:

<ol>
<li>Given a pairs of public key and secrect key <code>(sk, pk)</code>. We give a pair to the <strong>challenger</strong> and give the public key to the <strong>attacker</strong>.

<ol>
<li>The challenger verify <code>sig</code> from the attacker
is correct of not.</li>
<li>The attacker creates a fake signature. He also manipulates messages from the victim.</li>
</ol></li>
<li>The attacker will give challenger some messages and the challnger send back correcponding signatures.</li>
<li>After a while, the attacker will give a new message  which is not included in the previous ones along with a signature he thinks it would be correct.</li>
<li>The challnger varify the new signature: <code>verify(pk, M, sig)</code>. If <code>true</code>, the attchker wins.</li>
</ol></li>
</ol>

<p>One interesting trick is to sign the hash pointer that we covers the whole data structures. For instant, if we sign the last hash pointer of a block chain, we will signs the whole chain.</p>

<h1 id="public-keys-as-identities">Public keys as Identities</h1>

<p>A public key is able to represent a whole message. Therefore, we do not need the whole content of a message, we only consider its public key on some scenarios. In conclusions, two type of keys we mentioned play important roles:</p>

<pre><code>1. **Public keys**: the identity of an object which stands for the name of the owner.
2. **Private keys**: the control permission of an object. If we obtain the private key of an object, we can control as well as manipulate this.
</code></pre>

<h2 id="decentrailized-indentity-manangement">Decentrailized indentity manangement</h2>

<p>Rather than having a central place which manages all identities, now a user can creates and manages his own account information.</p>

<p>For example, BitCoin uses a public key or a hash of a public key as a address of a user.</p>

<h1 id="a-simple-crytocurrency">A simple crytocurrency</h1>

<p>Let the simple coin be Xcoin.</p>

<p>Rules:</p>

<pre><code>1. X can create new coins. It actually a data structure involves:
    1. A public key `pk[X]` signed by X.
    2. A method `create_coin(unique_coin_id)`.
2. A coin's owner can spend it.
    1. When spending a coin, the owner gives the hash pointer and the signature to the new one. In addition, the coin can be passed to other persons.
    2. Double-spending attach: one can give the hash pointer of coin to multiple persons. Since the receivers verify the coin is valid, they think that they are the own of the coin, namely a coin has two owners at a time.
        1. To solve the problem, one way is to create a transaction identity and publish a history of all transactions. The history allows us to detect double-spending.
        2. There are two types of transactions:
            1. `create_coin`:
                * num.
                * value.
                * recipient.
                * coinID.
            2. `pay_coins`: consumes some coins and creates new coins of the same value.
                * `num`.
                * `value`.
                * `recipient`
                * created coinIDs.
                * valid consumed coinIds.
                * signatures of owners.
</code></pre>

<p>The problem now is X, he is centralized which means he controls all activities of <code>Xcoin</code>. How we can decentrailize the system such that we do not need any central, trusted party.</p>

<h1 id="decentralization">Decentralization</h1>

<p>It is a combination of technical and clever incentive engineering.</p>

<p>Centralization vs decentralization</p>

<h2 id="decentralization-in-bitcoin">Decentralization in Bitcoin</h2>

<ol>
<li>Who maintains the ledger?</li>
<li>Who has authority over which transactions are valid?</li>
<li>Whoe creates new bitcoins?</li>
<li>Who determines how the rules of the system change?</li>
<li>How do bitcoins acquire exchange value?</li>
</ol>

<p>It is a peer-to-peer network.</p>

<p>Mining:
    * Open to anyone, but concentration of power for mining.
Updates to software:
    * Core dev trusted by community who have great power.</p>

<h2 id="distributed-consensus">Distributed Consensus</h2>

<blockquote>
<p>How to decentralize coins?</p>
</blockquote>

<h3 id="definition-2">Definition</h3>

<p>Given the number of nodes $n$, each of the nodes has some input values, then a consessus protocol happens which requires:</p>

<ul>
<li>It has to terminate and all correct nodes decide on the same value.</li>
<li>The value must have been proposed by osme correct node</li>
</ul>

<h3 id="implicit-consensus">Implicit consensus</h3>

<p>A random node is picked which proposes the next block in the chain.</p>

<p>Other nodes implicitly accept/reject this block:</p>

<ul>
<li>by either extending it (accepted).</li>
<li>or ignoring it and extending chain from earlier block (rejected).</li>
</ul>

<p>Every node will have the hash for the chain.</p>

<h3 id="consensus-algorithm">Consensus algorithm</h3>

<ol>
<li>New transeactions are broadcast to all nodes.</li>
<li>Each node collects new transactions into a block.</li>
<li>In each round a <strong>random</strong> node gets to broadcast its block.</li>
<li>Other nodes accept the block only if all transactions in it are valid.</li>
<li>Nodes express their acceptance of the block by including its hash in the next block they create.</li>
</ol>

<ul>
<li>long-term consensus chain.</li>
<li>double-spending attach: this is a type of attacking that the
attacker creates a block pointing to the previous block and transfer
the money to his account. In technical perspective, the legal block
and the fake block are identical.</li>
<li>orphan blocks:</li>
<li>zero-confirmation transactions.</li>
<li>the more confirmations the transaction got, the higher probability
the transaction is legal and end up to the long-term consensus chain.</li>
</ul>

<blockquote>
<p>Double-spend probability decreases exponentially with the number
of confirmations.</p>
</blockquote>

<p>In practice: 6 confirmations. This is the trade-off between the
amount of time we have to wait and the probability that the
transaction ends up to the long-term consensus chain.</p>

<blockquote>
<p>We are never 100% sure a transaction is in consensus branch. Guarantee is probabilistic.</p>
</blockquote>

<h2 id="incentive-mechanism">Incentive mechanism</h2>

<p>There are two incentive mechanisms in Bitcoin.</p>

<h3 id="block-reward">Block reward</h3>

<p>Creator of blocks:
* include <strong>special coin-creation transaction</strong> in the block.
* choose recipient address of this transaction (typically, the creator
will choose itself). This is the only way Bitcoin created. And the
total number of Bitcoin is 21 million (From geometric series). Run out:
in 2140.</p>

<h3 id="transaction-fees">Transaction fees</h3>

<p>Creator of transaction can choose to make output values less than input value.</p>

<p>Remainder is a transaction fee and goes to block creator.</p>

<p>The mechanism is somehow like a tip.</p>

<h1 id="proof-of-work">Proof of work</h1>

<p>To approximate selecting a random node, we select nodes in proportion to a resource that no one can monopilize.</p>

<ul>
<li>In proportoin to computing power: proof-of-work.</li>
<li>In proportion to ownership: proof-of-stake.</li>
</ul>

<h2 id="method-hash-puzzles">Method (Hash puzzles)</h2>

<p>To create block, find <strong>nonce</strong>, s.t:</p>

<p>$ H(nounce | pre_hash | tx | &hellip; | tx)$ is very small.</p>

<h2 id="property">Property</h2>

<ol>
<li>Difficult to compute. Miners: try to solve hash puzzles.</li>
<li>Parameterizable cost: nodes automatically re-calculate the target
every two weeks.</li>
</ol>

<p>Average time between blocks = 10 mins.</p>

<p>block reward + Tx fees &gt; hardware + electricity cost = Profit</p>

<h1 id="bitcoin">Bitcoin</h1>

<p>There is no real identities in bitcoin.
Transaction: bradcast messages to the bitoin p2p network which is a
transaction from a person to another person.
Propagate all new tx to all nodes.
Blockchain + consensus protocal.</p>

<p>A tx in a blockchain: having a lot of confirmations.</p>

<blockquote>
<p>The ownership of bitcoins is nothing more than other odes thinking that I own certain amount of bitcoin</p>
</blockquote>

<p>Security of blockchain &lt;-&gt; health of mining ecosystem &lt;-&gt; value of currency.</p>

<h1 id="bitcoin-transactions">Bitcoin Transactions</h1>

<h3 id="bitcoin-consensus-gives-us">Bitcoin consensus gives us:</h3>

<ul>
<li>Append-only ledger.</li>
<li>Decentralized consensus.</li>
<li>Miners to validate transactions.</li>
</ul>

<h2 id="a-transaction-based-ledger">A transaction-based ledger</h2>

<p>A transaction includes:</p>

<ul>
<li>Inputs: 0</li>
<li>Outputs: 25.0 -&gt; Alice.</li>
</ul>

<p>Another transaction maybe:</p>

<ul>
<li>Inputs: 1[0]</li>
<li>Outputs: 17.0 -&gt; Bob, 8.0 -&gt; Alice (change address).</li>
</ul>

<p>Always consume all money.</p>

<h2 id="bitcoin-script-language">Bitcoin script language</h2>

<p>Example:</p>

<p><code>scriptPubkey</code>:</p>

<pre><code>OP_DUP
OP_HASH160
69e02e18...
OP_EQUALVERIFY OP_CHECKSIG
</code></pre>

<p>Design goals:</p>

<ul>
<li>Built for Bitcoin.</li>
<li>Simple, compact.</li>
<li>Support for crytography.</li>
<li>Stack-based.</li>
<li>Limits on time/memory.</li>
<li>No looping.</li>
<li>NOT a Turing complete.</li>
</ul>

<p>Grammar:</p>

<pre><code>&lt;sig&gt; &lt;public&gt; OP_DUP OP_HASH160 &lt;pubkeyhash&gt; OP_EQUALVERIFY OP_CHECKSIG
</code></pre>

<ol>
<li>push every operation to a stack. It seems similar to evaluate a Poland expression.</li>
</ol>

<p>Script instructions:</p>

<pre><code>* 56 opcodes total ( 15 disabled, 75 reserved )
* Arithmetic.
* Conditions.
* Data handling.
* Crypto instructions:
    * `OP_CHECKMULTISIG`: joint signatures.
</code></pre>

<h3 id="proof-of-burn">Proof-of-burn</h3>

<ol>
<li>Write arbitrary data.</li>
<li>Destroy coins.</li>
</ol>

<p>use the hash of redemption script -&gt; <strong>pay to script hash</strong>.</p>

<h3 id="applications">Applications</h3>

<ul>
<li>Escrow transactions.</li>
<li>Green address.</li>
<li>Efficient micro-payments.</li>
</ul>

<h2 id="bitcoin-blocks">Bitcoin blocks</h2>

<h3 id="structure">Structure</h3>

<ul>
<li>On block: hash chain of blocks.</li>
<li>Hash tree of transactions in each block.</li>
</ul>

<h2 id="the-bitcoin-network">The Bitcoin network</h2>

<p>A P2P network:</p>

<ul>
<li>Ad-hoc protocol.</li>
<li>Ad-hoc network with random topology.</li>
<li>All nodes are equal.</li>
<li>New nodes can join at any time.</li>
<li>Forget non-responding nodes after 3 hr.</li>
</ul>

<h3 id="transaction-propagation">Transaction propagation</h3>

<h2 id="improvements">Improvements</h2>

<h1 id="how-to-store-and-use-bitcoins-or-secret-keys">How to store and use Bitcoins (or secret keys)</h1>

<p>Goals:</p>

<ul>
<li>Convenient.</li>
<li>As available as your device: device lost/wiped -&gt; key lost -&gt; coins lost.</li>
<li>As secure as your device: device compromised-&gt; key leaked -&gt; coins stolen.</li>
</ul>

<h2 id="approaches">Approaches</h2>

<h3 id="store-on-local-devices-computers-or-phones">Store on local devices (computers or phones).</h3>

<p>Properties:</p>

<ul>
<li>Not secure.</li>
<li>Not convenient.</li>
<li>Wallet software: keeps track of the coins, provides nice UI.</li>
<li>Use different address and secret keys for each coin.</li>
<li>Encoding addresses:

<ul>
<li>Encode as text string (base58).</li>
<li>Use QR code.</li>
</ul></li>
</ul>

<h3 id="hot-and-cold-storage">Hot and cold storage</h3>

<ol>
<li>Hot storage: online storage, very convenient but not secure.</li>
<li>Cold storage: offline storage, it is safer the hot storage but it seems inconvenient.</li>
</ol>

<p>We want to maintain two kinds of storage and have separate secret keys for each one.</p>

<p>Hierarchical wallets (since we want each coin having different address and secret keys):</p>

<ul>
<li>Address generation info: hot side.</li>
<li>Private key generation info: cold side (+ <code>generatekeysHier</code>).</li>
</ul>

<p>Store cold info:</p>

<p>*. Info stored in device, device locked in a safe.
*. &ldquo;Brain wallet&rdquo;: encrypt info under passphrase that use remembers.
*. &ldquo;Paper wallet&rdquo;: print info on paper, lock up the paper.
*. &ldquo;Tamperproff&rdquo; device: device will sign things fro you, but won&rsquo;t divulge keys.</p>

<h2 id="splitting-and-sharing-keys">Splitting and sharing keys</h2>

<h3 id="secret-sharing">Secret sharing</h3>

<p>Split secret into N pieces, such that:</p>

<ul>
<li>given any K pieces, can reconstruct the secret.</li>
<li>given fewer than K pieces, don&rsquo;t learn anything.</li>
</ul>

<h2 id="online-wallets">Online wallets</h2>

<ul>
<li>use other online services to manage wallets.</li>
</ul>

<p>Advantages:</p>

<ul>
<li>Convenient.
-</li>
</ul>

<p>Disadvantages:</p>

<ul>
<li>Vulnerable if site is malicious or compromised.</li>
</ul>

<h2 id="bank-line-services">Bank-line services</h2>

<p>You give the bank money (a &ldquo;deposit&rdquo;). The bank promises to pay you back later, on demand.</p>

<h2 id="bitcoin-exchanges">Bitcoin exchanges</h2>

<ul>
<li>accept deposits of bitcoins and fiat currency.</li>
<li>promise to pay back on demand.</li>
<li>lets customers:

<ul>
<li>make and receive bitcoin payments.</li>
<li>buy/sell bitcoins for fiat currency.</li>
</ul></li>
</ul>

<h3 id="proof-of-reserve">Proof of reserve</h3>

<p>bitcoin exchange can prove it has fractional reserve.</p>

<p>Prove how much reserve you&rsquo;re holding:
- publish valid payment-to-self of that amount.
- sign a challenge string with the same private key.</p>

<h3 id="payment-services">Payment services</h3>

<h3 id="transaction-fees-1">Transaction Fees</h3>

<ul>
<li>peers to relay your transaction.</li>
<li>miner to record your transaction.</li>
</ul>

<h2 id="online-wallets-1">Online wallets</h2>

<ul>
<li>Reputable, often regulated,businesses.</li>
<li>Typically require identity, keep records

<ul>
<li>No anonymity.</li>
</ul></li>
<li>Users trust them with their bitcoins.

<ul>
<li>Long term identity.</li>
</ul></li>
</ul>

<h2 id="mixed-services">Mixed services</h2>

<h2 id="coinjoin">CoinJoin</h2>


<figure>
    
        <img src="https://i.imgur.com/KgKWMmo.png" />
    
    
    <figcaption>
        <h4>CoinJoin Protocol</h4>
        
    </figcaption>
    
</figure>


<ul>
<li>A decentralized mixing.
-</li>
<li>Different users create a single transaction which combines multiple
transactions.</li>
<li>Each output has different users.</li>
</ul>

<h3 id="coinjoin-algorithm">Coinjoin Algorithm</h3>

<ol>
<li>Find peers who want to mix</li>
<li>Exchange input/output addresses.</li>
<li>Construct transaction.</li>
<li>Send it around, collect singatures.</li>
<li>Broadcast the transaction.</li>
</ol>

<h3 id="problems">Problems</h3>

<ul>
<li>How to find peers.</li>
<li>Peers know your input - output mappings [A worse problem than
for centralized mixes]</li>
<li>Denial of service.</li>
</ul>

<h1 id="consensus-about-rules">Consensus about Rules</h1>

<p>Agree:</p>

<ul>
<li>rule: what makes a transaction valid.</li>
<li>history: contents of the blockchain

<ul>
<li>which transactions have occurrred.</li>
<li>which coins exist and who owns them.</li>
</ul></li>
<li>valuable: bitcoins have value.

<ul>
<li>&ldquo;Tinkerbell effect&rdquo;</li>
</ul></li>
</ul>

<p>3 agreements intertwined with each other.</p>

<h1 id="bitcoin-core-software">Bitcoin Core software</h1>

<ul>
<li>open source - MIT license.</li>
<li>the most widely used Bitcoin software.</li>
<li>those who don&rsquo;t use it follow its lead on rules.</li>
</ul>

<h1 id="bitcoin-improvement-proposals">Bitcoin Improvement Proposals</h1>

<ul>
<li>&ldquo;formal&rdquo; proposal for changes to Bitcoin which includes
technical specification and rationale.</li>
<li>published in anumbered series.</li>
<li>each BIP has a champion to evangelize/coordinate.
-</li>
</ul>

    </div>
  </div>

</article>

<div class="container">
  <nav>
  <ul class="pager">
    
    <li class="previous"><a href="http://dangkhoasdc.github.io/logs/josephus_problem/"><span
      aria-hidden="true">&larr;</span> The Josephus problem</a></li>
    

    
    <li class="next"><a href="http://dangkhoasdc.github.io/logs/estimate_size/">Estimate object size from a reference object <span
      aria-hidden="true">&rarr;</span></a></li>
    
  </ul>
</nav>

</div>

<div class="article-container">
  
<section id="comments">
  <div id="disqus_thread"></div>
<script>
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "httpdangkhoasdcgithubio" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</section>


</div>

<footer class="site-footer">
  <div class="container">
    <p class="powered-by">

      &copy; 2017 Dang-Khoa &middot; 

      Powered by the <a href="https://github.com/gcushen/hugo-academic" target="_blank">Academic
      theme</a> for <a href="http://gohugo.io" target="_blank">Hugo</a>.

      <span class="pull-right" aria-hidden="true">
        <a href="#" id="back_to_top">
          <span class="button_icon">
            <i class="fa fa-chevron-up fa-2x"></i>
          </span>
        </a>
      </span>

    </p>
  </div>
</footer>

    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.min.js" integrity="sha512-jGsMH83oKe9asCpkOVkBnUrDDTp8wl+adkB2D+//JtlxO4SrLoJdhbOysIFQJloQFD+C4Fl1rMsQZF76JjV0eQ==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.2/imagesloaded.pkgd.min.js" integrity="sha512-iHzEu7GbSc705hE2skyH6/AlTpOfBmkx7nUqTLGzPYR+C1tRaItbRlJ7hT/D3YQ9SV0fqLKzp4XY9wKulTBGTw==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.19.1/TweenMax.min.js" integrity="sha512-Z5heTz36xTemt1TbtbfXtTq5lMfYnOkXM2/eWcTTiLU01+Sw4ku1i7vScDc8fWhrP2abz9GQzgKH5NGBLoYlAw==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.19.1/plugins/ScrollToPlugin.min.js" integrity="sha512-CDeU7pRtkPX6XJtF/gcFWlEwyaX7mcAp5sO3VIu/ylsdR74wEw4wmBpD5yYTrmMAiAboi9thyBUr1vXRPA7t0Q==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha512-iztkobsvnjKfAtTNdHkGVjAYTrrtlC7mGp/54c40wowO7LhURYl3gVzzcEqGl/qKXQltJ2HwMrdLcNUdo+N/RQ==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.4/isotope.pkgd.min.js" integrity="sha512-VDBOIlDbuC4VWxGJNmuFRQ0Li0SKkDpmGyuhAG5LTDLd/dJ/S0WMVxriR2Y+CyPL5gzjpN4f/6iqWVBJlht0tQ==" crossorigin="anonymous"></script>
    
    <script src="/js/hugo-academic.js"></script>
    

    
    
      
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js"></script>

      

      

      <script>hljs.initHighlightingOnLoad();</script>
    

    
    
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({ tex2jax: { inlineMath: [['$','$'], ['\\(','\\)']] } });
    </script>



    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_CHTML" integrity="sha512-tOav5w1OjvsSJzePRtt2uQPFwBoHt1VZcUq8l8nm5284LEKE9FSJBQryzMBzHxY5P0zRdNqEcpLIRVYFNgu1jw==" crossorigin="anonymous"></script>
    

    

  </body>
</html>

